<!DOCTYPE html>
<!--    
    This file is part of OpenNotebook-Web

    OpenNotebook-Web is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    OpenNotebook-Web is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with OpenNotebook-Web.  If not, see <http://www.gnu.org/licenses/>. 
-->
<html>
<head>

<meta name="viewport" content="width=624">
<title>MathQuill-basic Demo</title>

<link rel="stylesheet" type="text/css" href="support/home.css">
<link rel="stylesheet" type="text/css" href="../build/mathquill.css">
</head>
<body>
<div id="body">

<a href="http://github.com/laughinghan/mathquill"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub!"></a>

<h1><a href="http://mathquill.github.com">MathQuill</a>-based step-by-step equation editor</h1>

<p>Use the box below to write an equation. When you want to modify it to solve your math problem click
the "next step" button to copy your expression or equation and edit it on the next line to show your work. </p>

<p> Undo and redo buttons can be used to edit your work.</p>

<p> For faster usage, note the keyboard shortcuts given on each button </p>
<p> For example, try typing to following expression and solving for x:

<span class="mathquill-static-math" >\frac{1}{x-4}+\frac{2}{x^2-16}=\frac{3}{x+4}</span><br>

Open Student Assignments <input type="file" id="open-student-submissions-input" /> <br/><br/>

Open Assignment <input type="file" id="open-file-input" /> <br/><br/>

<div id="assignment-container"> <!-- container for several problems, each with step-by-step work-->
</div> <!-- end of assignment container -->
<br/>
<input type="submit" id="new-problem" name="new problem" value="new problem"/> </br>
</div>
<script src="react/build/react.js"></script>
<script src="react/build/react-dom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
<script type="text/javascript" src="support/jquery-1.7.2.js"></script>
<script type="text/javascript" src="../blob_js.js"></script>
<script type="text/javascript" src="../filesaver_js.js"></script>
<script type="text/javascript" src="../build/mathquill-basic.js"></script>
<script type="text/javascript" src="../Stuk-jszip-82ceacc/dist/jszip.js"></script>
<script type="text/javascript" src="../platform_js/platform.js"></script>
<script type="text/javascript" src="../jquery-dom-outline.js"></script>
<script type="text/javascript" src="../underscore.js"></script>
<script type="text/javascript" src="../kas.js"></script>
<script type="text/javascript" src="assignment.js"></script>
<script type="text/babel" src="problem.js"></script>
<script type="text/babel">

function detectPlatform() {
    // failing on chrome
    //isMac = (platform.os.indexOf("OS X") > -1);
    //return { isMac : isMac };
}

var Problem = React.createClass({
  render: function() {
    var divStyle= {
      float : "left"
    }
    return (
      <div className="problem-container">
        <div> Problem number <input type="text" className="problem-number"/></div>
        <div style={divStyle}>
          <p> Actions </p>
            <input type="submit" className="next-step" value="next step (ctrl-e)"/> <br />
            <input type="submit" className="undo-step" value="undo step (ctrl-z)"/> <br />
            <input type="submit" className="redo-step" value="redo step (ctrl-shift-z)"/> <br />
        </div>
        {/*div to store the steps in the solution */}
        <div style={divStyle} className="equation-list">
          <p> List of expressions </p>
        </div>
      </div>
    );
  }
});
$(function() {
    newAssignment();
    //newProblem(true);
    ReactDOM.render(<Problem />, $('#new-problem')[0]);
    MathQuill.StaticMath($('.mathquill-static-math')[0]);
    $('#new-problem').click(function() {
        newProblem(true);
    });
    // TODO - change this so it doesn't try to do anything when the user hits cancel
    $('#open-file-input').change(readSingleFile);
    $('#open-student-submissions-input').change(studentSubmissionsZip);
    // this is intentionally global
    var detectedBrowserAndOS = detectPlatform();
});

</script>
</body>
</html>
